{"ast":null,"code":"import _asyncToGenerator from\"E:/GoIT/Zad dom/goit-react-hw-05-movies/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/GoIT/Zad dom/goit-react-hw-05-movies/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"E:\\\\GoIT\\\\Zad dom\\\\goit-react-hw-05-movies\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from'react';import{Link}from'react-router-dom';import{searchMovies}from'../api/movieAPI';import styles from'./Movies.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Movies=function Movies(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),movies=_useState4[0],setMovies=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var handleSearch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(query){_context.next=3;break;}return _context.abrupt(\"return\");case 3:setIsLoading(true);_context.prev=4;_context.next=7;return searchMovies(query);case 7:data=_context.sent;setMovies(data.results);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](4);console.error('Error fetching movies:',_context.t0);case 14:_context.prev=14;setIsLoading(false);return _context.finish(14);case 17:case\"end\":return _context.stop();}}},_callee,null,[[4,11,14,17]]);}));return function handleSearch(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsxs(\"nav\",{className:styles.navbar,children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/movies\",children:\"Movies\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:query,onChange:function onChange(e){return setQuery(e.target.value);},placeholder:\"Wyszukaj film...\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Szukaj\"})]}),isLoading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(\"ul\",{children:movies.map(function(movie){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/movies/\".concat(movie.id),children:[movie.title,\" (\",new Date(movie.release_date).getFullYear(),\")\"]})},movie.id);})})]});};export default Movies;","map":{"version":3,"names":["React","useState","Link","searchMovies","styles","jsx","_jsx","jsxs","_jsxs","Movies","_useState","_useState2","_slicedToArray","query","setQuery","_useState3","_useState4","movies","setMovies","_useState5","_useState6","isLoading","setIsLoading","handleSearch","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","data","wrap","_callee$","_context","prev","next","preventDefault","abrupt","sent","results","t0","console","error","finish","stop","_x","apply","arguments","className","container","children","navbar","to","onSubmit","type","value","onChange","e","target","placeholder","map","movie","concat","id","title","Date","release_date","getFullYear"],"sources":["E:/GoIT/Zad dom/goit-react-hw-05-movies/src/components/Movies/Movies.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { searchMovies } from '../api/movieAPI';\r\nimport styles from './Movies.module.css';\r\n\r\nconst Movies = () => {\r\n  const [query, setQuery] = useState('');\r\n  const [movies, setMovies] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleSearch = async event => {\r\n    event.preventDefault();\r\n    if (!query) return;\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      const data = await searchMovies(query);\r\n      setMovies(data.results);\r\n    } catch (error) {\r\n      console.error('Error fetching movies:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <nav className={styles.navbar}>\r\n        <Link to=\"/\">Home</Link>\r\n        <Link to=\"/movies\">Movies</Link>\r\n      </nav>\r\n\r\n      <form onSubmit={handleSearch}>\r\n        <input\r\n          type=\"text\"\r\n          value={query}\r\n          onChange={e => setQuery(e.target.value)}\r\n          placeholder=\"Wyszukaj film...\"\r\n        />\r\n        <button type=\"submit\">Szukaj</button>\r\n      </form>\r\n\r\n      {isLoading ? (\r\n        <div>Loading...</div>\r\n      ) : (\r\n        <ul>\r\n          {movies.map(movie => (\r\n            <li key={movie.id}>\r\n              <Link to={`/movies/${movie.id}`}>\r\n                {movie.title} ({new Date(movie.release_date).getFullYear()})\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Movies;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}